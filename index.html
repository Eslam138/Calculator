<html>
    <head>
            <title>calculator</title>
            <link rel="stylesheet" type="text/css" href="style.css">
    </head>
    <body>
        <div class = "grid-container">
            <div class = "calculator-grid ">
              <textarea type="text" id = "inputtext" placeholder="0"></textarea>
                <button>C</button>
                <button>DEL</button>
                <button></button>
                <button>+</button>
                <button>7</button>
                <button>8</button>
                <button>9</button>
                <button>-</button>
                <button>4</button>
                <button>5</button>
                <button>6</button>
                <button>*</button>
                <button>1</button>
                <button>2</button>
                <button>3</button>
                <button>/</button>
                <button>00</button>
                <button>0</button>
                <button>.</button>
                <button>=</button>
            </div>
        </div>
        <script>
                const input = document.getElementById('inputtext');
                const buttons = document.querySelectorAll('button');

                function calculate(expression) {
                    console.log(expression);
                    console.log(typeof(expression));
                    try {
                        return new Function('return ' + expression)();
                    } catch (error) {
                        return 'Malformed Operation';
                    }
                }


                function operation(buttonValue) {
                    if (buttonValue === 'C') {
                        input.value = '';
                    } else if (buttonValue === 'DEL') {
                        input.value = input.value.slice(0, -1);
                    } else if (buttonValue === '=') {
                        input.value = calculate(input.value);
                    } else {
                        input.value += buttonValue;
                    }
                }

                buttons.forEach(button => {
                    let buttonValue = button.innerText;
                    button.addEventListener('click', function () {
                        operation(buttonValue);
                    });
            });
        </script>
    </body>
</html>